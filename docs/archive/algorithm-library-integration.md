# ç®—æ³•åº“é›†æˆæ–¹æ¡ˆåˆ†æ

## ä¸€ã€å¹³å°ç°æœ‰æ¶æ„ä¸­ä¸ç®—æ³•ç›¸å…³çš„æ¨¡å—

| å±‚çº§ | æ¨¡å— | å½“å‰åŠŸèƒ½ | ä¸ç®—æ³•åº“çš„å…³ç³» |
|------|------|---------|---------------|
| **æ³¨å†Œä¸­å¿ƒ** | `pipeline-node.registry` | æ³¨å†Œ Pipeline èŠ‚ç‚¹ç±»å‹ï¼ˆå« ML_NODES 4ä¸ªã€LLM_NODES 5ä¸ªï¼‰ | ç®—æ³•åº“çš„ç®—æ³•å¯æ³¨å†Œä¸º Pipeline èŠ‚ç‚¹ |
| **æ³¨å†Œä¸­å¿ƒ** | `kg-operator.registry` | æ³¨å†ŒçŸ¥è¯†å›¾è°±ç®—å­ï¼ˆå«å¼‚å¸¸æ£€æµ‹ç®—æ³•é€‰é¡¹ï¼‰ | ç®—æ³•åº“å¯ä¸º KG ç®—å­æä¾›åº•å±‚ç®—æ³• |
| **å‰ç«¯é¡µé¢** | `ModelCenter` / `ModelRepo` | æ¨¡å‹ç®¡ç†ã€Ollama åŒæ­¥ã€æ¨¡å‹æ¨ç†å¯¹è¯ | ç®—æ³•åº“ä¸­çš„é¢„è®­ç»ƒæ¨¡å‹å¯çº³å…¥æ¨¡å‹ä»“åº“ |
| **å‰ç«¯é¡µé¢** | `PipelineEditor` / `PipelineManager` | å¯è§†åŒ– Pipeline ç¼–æ’ | ç®—æ³•åº“çš„ç®—æ³•ä½œä¸º Pipeline èŠ‚ç‚¹è¢«æ‹–æ‹½ä½¿ç”¨ |
| **å‰ç«¯é¡µé¢** | `ModelInference` | æ¨¡å‹æ¨ç† | ç®—æ³•åº“çš„æ¨ç†ç®—æ³•åœ¨æ­¤æ‰§è¡Œ |
| **åç«¯æœåŠ¡** | `pipeline.router` / `dataPipeline.router` | Pipeline æ‰§è¡Œå¼•æ“ | ç®—æ³•åº“çš„ç®—æ³•åœ¨ Pipeline æ‰§è¡Œæ—¶è¢«è°ƒç”¨ |
| **å¯¼èˆªèœå•** | æ™ºèƒ½å¼•æ“ section | æ¨¡å‹ä¸­å¿ƒã€æ™ºèƒ½è¯Šæ–­ã€è¿›åŒ–å¼•æ“ã€è¾¹ç¼˜è®¡ç®— | ç®—æ³•åº“åº”æ”¾åœ¨æ­¤ section |

## äºŒã€æ¨èé›†æˆä½ç½®

### æ–¹æ¡ˆï¼šåœ¨ã€Œæ™ºèƒ½å¼•æ“ã€section ä¸‹æ–°å¢ã€Œç®—æ³•åº“ã€æ¨¡å—

```
æ™ºèƒ½å¼•æ“
â”œâ”€â”€ æ¨¡å‹ä¸­å¿ƒï¼ˆå·²æœ‰ï¼‰
â”‚   â”œâ”€â”€ AIå¯¹è¯
â”‚   â”œâ”€â”€ æ¨¡å‹ç®¡ç†
â”‚   â”œâ”€â”€ æ¨¡å‹æ¨ç†
â”‚   â”œâ”€â”€ æ¨¡å‹å¾®è°ƒ
â”‚   â”œâ”€â”€ æ¨¡å‹è¯„ä¼°
â”‚   â””â”€â”€ æ¨¡å‹ä»“åº“
â”œâ”€â”€ ğŸ†• ç®—æ³•åº“ï¼ˆæ–°å¢ï¼‰
â”‚   â”œâ”€â”€ ç®—æ³•æ€»è§ˆ        â†’ /algorithm/overview
â”‚   â”œâ”€â”€ ä¿¡å·å¤„ç†        â†’ /algorithm/signal
â”‚   â”œâ”€â”€ ç‰¹å¾å·¥ç¨‹        â†’ /algorithm/feature
â”‚   â”œâ”€â”€ æœºå™¨å­¦ä¹         â†’ /algorithm/ml
â”‚   â”œâ”€â”€ æ·±åº¦å­¦ä¹         â†’ /algorithm/dl
â”‚   â”œâ”€â”€ å¼‚å¸¸æ£€æµ‹        â†’ /algorithm/anomaly
â”‚   â””â”€â”€ è‡ªå®šä¹‰ç®—æ³•      â†’ /algorithm/custom
â”œâ”€â”€ æ™ºèƒ½è¯Šæ–­ï¼ˆå·²æœ‰ï¼‰
â”œâ”€â”€ è¿›åŒ–å¼•æ“ï¼ˆå·²æœ‰ï¼‰
â””â”€â”€ è¾¹ç¼˜è®¡ç®—ï¼ˆå·²æœ‰ï¼‰
```

### ç†ç”±

1. **å±‚çº§å®šä½**ï¼šç®—æ³•åº“å±äºã€Œæ™ºèƒ½å¼•æ“ã€å±‚ï¼Œæ˜¯æ¨¡å‹ä¸­å¿ƒå’Œæµæ°´çº¿ä¹‹é—´çš„æ¡¥æ¢â€”â€”æ¨¡å‹ä¸­å¿ƒç®¡ç†å·²è®­ç»ƒå¥½çš„æ¨¡å‹ï¼Œç®—æ³•åº“ç®¡ç†å¯å¤ç”¨çš„ç®—æ³•ç»„ä»¶ï¼ŒPipeline ç¼–æ’å™¨å°†ä¸¤è€…ä¸²è”ã€‚

2. **ä¸æ³¨å†Œä¸­å¿ƒå¯¹é½**ï¼šæ–°å¢ `algorithm.registry`ï¼ˆç®—æ³•ç±»å‹æ³¨å†Œä¸­å¿ƒï¼‰ï¼Œä¸ç°æœ‰çš„ `pipelineNode`ã€`pluginType`ã€`deviceType`ã€`kgOperator`ã€`metricType` å¹¶åˆ—ï¼Œç”± `RegistryManager` ç»Ÿä¸€ç®¡ç†ã€‚

3. **ä¸ Pipeline æ‰“é€š**ï¼šç®—æ³•åº“ä¸­çš„æ¯ä¸ªç®—æ³•è‡ªåŠ¨æ³¨å†Œä¸º Pipeline å¯ç”¨èŠ‚ç‚¹ï¼Œç”¨æˆ·åœ¨ Pipeline ç¼–æ’å™¨ä¸­å¯ç›´æ¥æ‹–æ‹½ä½¿ç”¨ã€‚

## ä¸‰ã€å…·ä½“å®ç°æ¶æ„

### 3.1 åç«¯ç»“æ„

```
server/
â”œâ”€â”€ core/registries/
â”‚   â””â”€â”€ algorithm.registry.ts          â† ğŸ†• ç®—æ³•ç±»å‹æ³¨å†Œä¸­å¿ƒ
â”œâ”€â”€ api/
â”‚   â””â”€â”€ algorithm.router.ts            â† ğŸ†• ç®—æ³•åº“ tRPC è·¯ç”±
â”œâ”€â”€ services/
â”‚   â””â”€â”€ algorithm/
â”‚       â”œâ”€â”€ algorithm.service.ts        â† ğŸ†• ç®—æ³•ç®¡ç†æœåŠ¡
â”‚       â”œâ”€â”€ categories/
â”‚       â”‚   â”œâ”€â”€ signal-processing.ts    â† ä¿¡å·å¤„ç†ç®—æ³•é›†
â”‚       â”‚   â”œâ”€â”€ feature-engineering.ts  â† ç‰¹å¾å·¥ç¨‹ç®—æ³•é›†
â”‚       â”‚   â”œâ”€â”€ machine-learning.ts     â† æœºå™¨å­¦ä¹ ç®—æ³•é›†
â”‚       â”‚   â”œâ”€â”€ deep-learning.ts        â† æ·±åº¦å­¦ä¹ ç®—æ³•é›†
â”‚       â”‚   â””â”€â”€ anomaly-detection.ts    â† å¼‚å¸¸æ£€æµ‹ç®—æ³•é›†
â”‚       â””â”€â”€ runtime/
â”‚           â”œâ”€â”€ executor.ts             â† ç®—æ³•æ‰§è¡Œå¼•æ“
â”‚           â””â”€â”€ benchmark.ts            â† ç®—æ³•æ€§èƒ½åŸºå‡†æµ‹è¯•
```

### 3.2 å‰ç«¯ç»“æ„

```
client/src/pages/algorithm/
â”œâ”€â”€ AlgorithmOverview.tsx               â† ç®—æ³•æ€»è§ˆï¼ˆåˆ†ç±»å¡ç‰‡ + ç»Ÿè®¡ï¼‰
â”œâ”€â”€ SignalProcessing.tsx                â† ä¿¡å·å¤„ç†ç®—æ³•åˆ—è¡¨
â”œâ”€â”€ FeatureEngineering.tsx              â† ç‰¹å¾å·¥ç¨‹ç®—æ³•åˆ—è¡¨
â”œâ”€â”€ MachineLearning.tsx                 â† æœºå™¨å­¦ä¹ ç®—æ³•åˆ—è¡¨
â”œâ”€â”€ DeepLearning.tsx                    â† æ·±åº¦å­¦ä¹ ç®—æ³•åˆ—è¡¨
â”œâ”€â”€ AnomalyDetection.tsx               â† å¼‚å¸¸æ£€æµ‹ç®—æ³•åˆ—è¡¨
â”œâ”€â”€ CustomAlgorithm.tsx                 â† è‡ªå®šä¹‰ç®—æ³•ï¼ˆä¸Šä¼ /ç¼–è¾‘ï¼‰
â””â”€â”€ components/
    â”œâ”€â”€ AlgorithmCard.tsx               â† ç®—æ³•å¡ç‰‡ç»„ä»¶
    â”œâ”€â”€ AlgorithmDetail.tsx             â† ç®—æ³•è¯¦æƒ…é¢æ¿
    â”œâ”€â”€ AlgorithmTestBench.tsx          â† ç®—æ³•æµ‹è¯•å·¥ä½œå°
    â””â”€â”€ AlgorithmConfigPanel.tsx        â† ç®—æ³•å‚æ•°é…ç½®é¢æ¿
```

### 3.3 æ³¨å†Œä¸­å¿ƒè®¾è®¡

```typescript
// server/core/registries/algorithm.registry.ts

interface AlgorithmRegistryItem extends RegistryItemMeta {
  // åŸºç¡€ä¿¡æ¯
  algorithmType: 'builtin' | 'custom' | 'plugin';
  version: string;
  author: string;
  
  // åˆ†ç±»
  domain: 'signal_processing' | 'feature_engineering' | 'machine_learning' 
        | 'deep_learning' | 'anomaly_detection' | 'optimization' | 'custom';
  
  // è¾“å…¥è¾“å‡º Schema
  inputSchema: AlgorithmIOSchema[];
  outputSchema: AlgorithmIOSchema[];
  
  // å‚æ•°é…ç½®
  configFields: ConfigFieldSchema[];
  
  // è¿è¡Œæ—¶ä¿¡æ¯
  runtime: 'python' | 'onnx' | 'wasm' | 'native';
  computeRequirement: 'cpu' | 'gpu' | 'edge';
  
  // Pipeline é›†æˆ
  pipelineNodeType?: string;  // è‡ªåŠ¨æ³¨å†Œä¸º Pipeline èŠ‚ç‚¹çš„ç±»å‹ ID
  
  // æ€§èƒ½åŸºå‡†
  benchmark?: {
    avgLatencyMs: number;
    throughputPerSec: number;
    memoryMB: number;
  };
}
```

### 3.4 ç®—æ³•åˆ†ç±»ä½“ç³»ï¼ˆé¢å‘å·¥ä¸š SHM åœºæ™¯ï¼‰

| åˆ†ç±» | å†…ç½®ç®—æ³•ç¤ºä¾‹ | åº”ç”¨åœºæ™¯ |
|------|-------------|---------|
| **ä¿¡å·å¤„ç†** | FFTã€å°æ³¢å˜æ¢ã€åŒ…ç»œåˆ†æã€å¸¦é€šæ»¤æ³¢ã€é‡é‡‡æ ·ã€å»å™ª | æŒ¯åŠ¨ä¿¡å·é¢„å¤„ç† |
| **ç‰¹å¾å·¥ç¨‹** | æ—¶åŸŸç‰¹å¾ï¼ˆRMS/å³°å€¼/å³­åº¦ï¼‰ã€é¢‘åŸŸç‰¹å¾ï¼ˆä¸»é¢‘/é¢‘å¸¦èƒ½é‡ï¼‰ã€æ—¶é¢‘ç‰¹å¾ï¼ˆSTFT/CWTï¼‰ | ä»åŸå§‹ä¿¡å·æå–è¯Šæ–­ç‰¹å¾ |
| **æœºå™¨å­¦ä¹ ** | SVMã€éšæœºæ£®æ—ã€XGBoostã€K-Meansã€DBSCANã€PCA | æ•…éšœåˆ†ç±»ã€èšç±»åˆ†æ |
| **æ·±åº¦å­¦ä¹ ** | CNN-1Dã€LSTMã€Transformerã€AutoEncoderã€GAN | å¤æ‚æ¨¡å¼è¯†åˆ«ã€æ—¶åºé¢„æµ‹ |
| **å¼‚å¸¸æ£€æµ‹** | Z-Scoreã€IQRã€Isolation Forestã€LOFã€OCSVMã€ç§»åŠ¨å¹³å‡åå·® | å®æ—¶å¼‚å¸¸å‘Šè­¦ |
| **ä¼˜åŒ–ç®—æ³•** | è´å¶æ–¯ä¼˜åŒ–ã€é—ä¼ ç®—æ³•ã€ç²’å­ç¾¤ä¼˜åŒ– | è¶…å‚æ•°è°ƒä¼˜ã€ç»´æŠ¤æ’ç¨‹ |

### 3.5 ä¸ç°æœ‰æ¨¡å—çš„é›†æˆç‚¹

```
ç®—æ³•åº“ â†â†’ Pipeline ç¼–æ’å™¨
  - ç®—æ³•è‡ªåŠ¨æ³¨å†Œä¸º Pipeline èŠ‚ç‚¹
  - Pipeline æ‰§è¡Œæ—¶è°ƒç”¨ç®—æ³•åº“çš„æ‰§è¡Œå¼•æ“

ç®—æ³•åº“ â†â†’ æ¨¡å‹ä¸­å¿ƒ
  - æ·±åº¦å­¦ä¹ ç®—æ³•è®­ç»ƒåçš„æ¨¡å‹å­˜å…¥æ¨¡å‹ä»“åº“
  - æ¨¡å‹æ¨ç†æ—¶è°ƒç”¨ç®—æ³•åº“çš„æ¨ç†æ¥å£

ç®—æ³•åº“ â†â†’ çŸ¥è¯†å›¾è°±ç¼–æ’å™¨
  - KG ç®—å­ä¸­çš„"å¼‚å¸¸æ£€æµ‹"èŠ‚ç‚¹è°ƒç”¨ç®—æ³•åº“
  - KG æ¨ç†å¼•æ“ä½¿ç”¨ç®—æ³•åº“çš„å›¾ç®—æ³•

ç®—æ³•åº“ â†â†’ è¾¹ç¼˜è®¡ç®—
  - è½»é‡ç®—æ³•ï¼ˆONNX/WASMï¼‰éƒ¨ç½²åˆ°è¾¹ç¼˜èŠ‚ç‚¹
  - è¾¹ç¼˜æ¨ç†ä½¿ç”¨ç®—æ³•åº“çš„é‡åŒ–æ¨¡å‹

ç®—æ³•åº“ â†â†’ è¿›åŒ–å¼•æ“
  - è‡ªåŠ¨è®­ç»ƒä½¿ç”¨ç®—æ³•åº“çš„ ML/DL ç®—æ³•
  - ä¸»åŠ¨å­¦ä¹ ç­–ç•¥ä½¿ç”¨ç®—æ³•åº“çš„é‡‡æ ·ç®—æ³•
```

## å››ã€å¯¼èˆªèœå•å˜æ›´

åœ¨ `client/src/config/navigation.ts` çš„ã€Œæ™ºèƒ½å¼•æ“ã€section ä¸­ï¼Œåœ¨ã€Œæ¨¡å‹ä¸­å¿ƒã€ä¹‹åæ·»åŠ ï¼š

```typescript
{
  id: 'algorithm-library',
  label: 'ç®—æ³•åº“',
  icon: 'ğŸ§¬',
  children: [
    { id: 'algo-overview', label: 'ç®—æ³•æ€»è§ˆ', icon: 'ğŸ“Š', path: '/algorithm/overview' },
    { id: 'algo-signal', label: 'ä¿¡å·å¤„ç†', icon: 'ğŸ“¡', path: '/algorithm/signal' },
    { id: 'algo-feature', label: 'ç‰¹å¾å·¥ç¨‹', icon: 'ğŸ§®', path: '/algorithm/feature' },
    { id: 'algo-ml', label: 'æœºå™¨å­¦ä¹ ', icon: 'ğŸ¤–', path: '/algorithm/ml' },
    { id: 'algo-dl', label: 'æ·±åº¦å­¦ä¹ ', icon: 'ğŸ§ ', path: '/algorithm/dl' },
    { id: 'algo-anomaly', label: 'å¼‚å¸¸æ£€æµ‹', icon: 'ğŸ¯', path: '/algorithm/anomaly' },
    { id: 'algo-custom', label: 'è‡ªå®šä¹‰ç®—æ³•', icon: 'âœï¸', path: '/algorithm/custom' },
  ]
},
```

## äº”ã€å®æ–½ä¼˜å…ˆçº§

| é˜¶æ®µ | å†…å®¹ | å·¥ä½œé‡ |
|------|------|--------|
| P0 | æ³¨å†Œä¸­å¿ƒ + è·¯ç”± + ç®—æ³•æ€»è§ˆé¡µé¢ | 1å¤© |
| P1 | 6ä¸ªåˆ†ç±»é¡µé¢ + å†…ç½®ç®—æ³•å®šä¹‰ | 2å¤© |
| P2 | ç®—æ³•æµ‹è¯•å·¥ä½œå° + Pipeline èŠ‚ç‚¹è‡ªåŠ¨æ³¨å†Œ | 1å¤© |
| P3 | è‡ªå®šä¹‰ç®—æ³•ä¸Šä¼  + è¾¹ç¼˜éƒ¨ç½²é›†æˆ | 2å¤© |
