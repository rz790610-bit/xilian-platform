# ============================================================
# PortAI Nexus — 生产环境配置模板
# ============================================================
# 复制此文件为 .env.production 并填入真实值。
# .env.production 不应提交到 Git。
#
# 标记 [REQUIRED] 的变量在生产环境必须配置，
# 否则 Zod 配置验证会阻断启动（process.exit(1)）。
#
# 整改方案 v2.1 — B-05 配置管理分层
# ============================================================

# ── 应用基础 ──
NODE_ENV=production
PORT=3000
LOG_LEVEL=warn
APP_NAME=PortAI Nexus

# ── MySQL [REQUIRED] ──
MYSQL_HOST=<your-mysql-host>
MYSQL_PORT=3306
MYSQL_USER=<your-mysql-user>
MYSQL_PASSWORD=<your-mysql-password>          # [REQUIRED] 生产环境不可为空
MYSQL_DATABASE=portai_nexus
MYSQL_SSL=true
MYSQL_POOL_SIZE=20

# ── Redis [REQUIRED] ──
REDIS_HOST=<your-redis-host>
REDIS_PORT=6379
REDIS_PASSWORD=<your-redis-password>

# ── ClickHouse ──
CLICKHOUSE_HOST=<your-clickhouse-host>
CLICKHOUSE_PORT=8123
CLICKHOUSE_USER=default
CLICKHOUSE_PASSWORD=<your-clickhouse-password>
CLICKHOUSE_DATABASE=portai_nexus
CLICKHOUSE_SSL=true

# ── Kafka ──
KAFKA_BROKERS=<broker1:9092,broker2:9092>
KAFKA_CLIENT_ID=portai-nexus
KAFKA_GROUP_ID=portai-nexus-group
KAFKA_SSL=true
KAFKA_SASL_MECHANISM=scram-sha-256
KAFKA_SASL_USERNAME=<your-kafka-user>
KAFKA_SASL_PASSWORD=<your-kafka-password>

# ── Neo4j ──
NEO4J_HOST=<your-neo4j-host>
NEO4J_PORT=7687
NEO4J_USER=neo4j
NEO4J_PASSWORD=<your-neo4j-password>

# ── Qdrant ──
QDRANT_HOST=<your-qdrant-host>
QDRANT_PORT=6333
QDRANT_API_KEY=<your-qdrant-api-key>

# ── MinIO / S3 ──
MINIO_ENDPOINT=<your-minio-endpoint>
MINIO_PORT=9000
MINIO_ACCESS_KEY=<your-access-key>
MINIO_SECRET_KEY=<your-secret-key>
MINIO_BUCKET=portai-nexus
MINIO_USE_SSL=true

# ── OTel 可观测性 ──
OTEL_ENABLED=true
OTEL_SERVICE_NAME=portai-nexus-prod
OTEL_EXPORTER_OTLP_ENDPOINT=http://jaeger:4318
OTEL_SAMPLING_RATIO=0.1

# ── 安全 [REQUIRED] ──
JWT_SECRET=<your-jwt-secret-min-32-chars>     # [REQUIRED] 不可使用默认值
JWT_EXPIRES_IN=24h
CORS_ORIGINS=https://your-domain.com          # [REQUIRED] 不可使用通配符 *
RATE_LIMIT_MAX=100

# ── 外部 API ──
OPENAI_API_KEY=<your-openai-key>
BUILT_IN_FORGE_API_URL=<your-forge-url>
BUILT_IN_FORGE_API_KEY=<your-forge-key>
