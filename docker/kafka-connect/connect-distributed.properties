# ============================================================
# Kafka Connect Distributed Mode Configuration
# ============================================================

# Kafka 集群连接
bootstrap.servers=kafka:29092

# Connect 集群标识
group.id=xilian-connect-cluster

# 内部 topic 配置（单节点开发环境用 replication.factor=1）
config.storage.topic=_connect-configs
config.storage.replication.factor=1
offset.storage.topic=_connect-offsets
offset.storage.replication.factor=1
offset.storage.partitions=3
status.storage.topic=_connect-status
status.storage.replication.factor=1
status.storage.partitions=3

# REST API
rest.port=8083
rest.advertised.host.name=kafka-connect
rest.advertised.port=8083

# 序列化（JSON 无 schema，适合通用场景）
key.converter=org.apache.kafka.connect.json.JsonConverter
key.converter.schemas.enable=false
value.converter=org.apache.kafka.connect.json.JsonConverter
value.converter.schemas.enable=false

# 内部序列化
internal.key.converter=org.apache.kafka.connect.json.JsonConverter
internal.key.converter.schemas.enable=false
internal.value.converter=org.apache.kafka.connect.json.JsonConverter
internal.value.converter.schemas.enable=false

# 插件路径
plugin.path=/opt/kafka/connect-plugins

# 性能调优
offset.flush.interval.ms=10000
offset.flush.timeout.ms=5000
producer.buffer.memory=33554432
producer.batch.size=16384
producer.linger.ms=5

# 容错
task.shutdown.graceful.timeout.ms=10000
connector.client.config.override.policy=All
